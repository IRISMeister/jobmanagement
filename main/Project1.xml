<?xml version="1.0" encoding="UTF-8"?>
<Export generator="IRIS" version="26" zv="IRIS for Windows (x86-64) 2023.1 (Build 229U)" ts="2023-05-26 14:53:02">
<Class name="DeadLock.BP.Main">
<Description>
</Description>
<ClassType>persistent</ClassType>
<ProcedureBlock>1</ProcedureBlock>
<Super>Ens.BusinessProcessBPL</Super>
<TimeChanged>66620,51727.6884862</TimeChanged>
<TimeCreated>66620,49185.9387945</TimeCreated>

<XData name="BPL">
<Description>
BPL Definition</Description>
<XMLNamespace>http://www.intersystems.com/bpl</XMLNamespace>
<Data><![CDATA[
<process language='objectscript' request='Ens.Request' response='Ens.Response' height='2000' width='2000' >
<sequence xend='200' yend='550' >
<trace value='$JOB' xpos='200' ypos='250' />
<code name='I need FIFO!' xpos='200' ypos='350' >
<annotation><![CDATA[Do process.SendRequestSync()
]]]]><![CDATA[></annotation>
<![CDATA[ Do process.SendRequestSync("Sub",request,.res)
]]]]><![CDATA[>
</code>
<trace value='$JOB' xpos='200' ypos='450' />
</sequence>
</process>
]]></Data>
</XData>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
</Storage>
</Class>


<Class name="DeadLock.BP.Main2">
<Description>
</Description>
<ClassType>persistent</ClassType>
<ProcedureBlock>1</ProcedureBlock>
<Super>Ens.BusinessProcessBPL</Super>
<TimeChanged>66620,53057.2803661</TimeChanged>
<TimeCreated>66620,49185.9387945</TimeCreated>

<XData name="BPL">
<Description>
BPL Definition</Description>
<XMLNamespace>http://www.intersystems.com/bpl</XMLNamespace>
<Data><![CDATA[
<process language='objectscript' request='Ens.Request' response='Ens.Response' height='2000' width='2000' >
<sequence xend='200' yend='550' >
<trace value='$JOB' xpos='200' ypos='250' />
<call name='Sync' target='Sub' async='0' xpos='200' ypos='350' >
<request type='Ens.Request' />
<response type='Ens.Response' />
</call>
<trace value='$JOB' xpos='200' ypos='450' />
</sequence>
</process>
]]></Data>
</XData>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
</Storage>
</Class>


<Class name="DeadLock.BP.Sub">
<Description>
</Description>
<ClassType>persistent</ClassType>
<ProcedureBlock>1</ProcedureBlock>
<Super>Ens.BusinessProcessBPL</Super>
<TimeChanged>66620,49883.6318896</TimeChanged>
<TimeCreated>66620,48464.720223</TimeCreated>

<XData name="BPL">
<Description>
BPL Definition</Description>
<XMLNamespace>http://www.intersystems.com/bpl</XMLNamespace>
<Data><![CDATA[
<process language='objectscript' request='Ens.Request' response='Ens.Response' height='2000' width='2000' >
<sequence xend='200' yend='450' >
<trace value='$JOB' xpos='200' ypos='250' />
<code xpos='200' ypos='350' >
<![CDATA[ h 10]]]]><![CDATA[>
</code>
</sequence>
</process>
]]></Data>
</XData>

<Storage name="Default">
<Type>%Storage.Persistent</Type>
</Storage>
</Class>


<Class name="DeadLock.BS.Direct">
<Super>Ens.BusinessService</Super>
<TimeChanged>66620,50271.4444368</TimeChanged>
<TimeCreated>66620,50028.556414</TimeCreated>

<Method name="OnProcessInput">
<FormalSpec>pInput:%RegisteredObject,*pOutput:%RegisteredObject</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tSC = ..SendRequestSync("Main", pInput, .pOutput)
	Return tSC
	Return $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="DeadLock.BS.Direct2">
<Super>Ens.BusinessService</Super>
<TimeChanged>66620,53086.1614849</TimeChanged>
<TimeCreated>66620,53082.5060945</TimeCreated>

<Method name="OnProcessInput">
<FormalSpec>pInput:%RegisteredObject,*pOutput:%RegisteredObject</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	Set tSC = ..SendRequestSync("Main2", pInput, .pOutput)
	Return tSC
	Return $$$OK
]]></Implementation>
</Method>
</Class>


<Class name="DeadLock.NewProduction">
<Super>Ens.Production</Super>
<TimeChanged>66620,53340.2694248</TimeChanged>
<TimeCreated>66620,48072.4531018</TimeCreated>

<XData name="ProductionDefinition">
<Data><![CDATA[
<Production Name="DeadLock.NewProduction" TestingEnabled="false" LogGeneralTraceEvents="false">
  <Description></Description>
  <ActorPoolSize>1</ActorPoolSize>
  <Item Name="Main" Category="" ClassName="DeadLock.BP.Main" PoolSize="0" Enabled="true" Foreground="false" Comment="" LogTraceEvents="true" Schedule="">
  </Item>
  <Item Name="Sub" Category="" ClassName="DeadLock.BP.Sub" PoolSize="0" Enabled="true" Foreground="false" Comment="" LogTraceEvents="true" Schedule="">
  </Item>
  <Item Name="Direct" Category="" ClassName="DeadLock.BS.Direct" PoolSize="0" Enabled="true" Foreground="false" Comment="" LogTraceEvents="false" Schedule="">
  </Item>
  <Item Name="Direct2" Category="" ClassName="DeadLock.BS.Direct2" PoolSize="0" Enabled="true" Foreground="false" Comment="" LogTraceEvents="false" Schedule="">
  </Item>
  <Item Name="Main2" Category="" ClassName="DeadLock.BP.Main2" PoolSize="0" Enabled="true" Foreground="false" Comment="" LogTraceEvents="true" Schedule="">
  </Item>
</Production>
]]></Data>
</XData>
</Class>


<Project name="Project1" LastModified="2023-05-26 14:52:51.9186612">
  <Items>
    <ProjectItem name="DeadLock.BP.Sub" type="CLS"></ProjectItem>
    <ProjectItem name="DeadLock.BP.Main2" type="CLS"></ProjectItem>
    <ProjectItem name="DeadLock.BP.Main" type="CLS"></ProjectItem>
    <ProjectItem name="DeadLock.BS.Direct" type="CLS"></ProjectItem>
    <ProjectItem name="DeadLock.BS.Direct2" type="CLS"></ProjectItem>
    <ProjectItem name="DeadLock.NewProduction" type="CLS"></ProjectItem>
    <ProjectItem name="deadlock.MAC" type="MAC"></ProjectItem>
    <ProjectItem name="deadlock2.MAC" type="MAC"></ProjectItem>
  </Items>
</Project>


<Routine name="deadlock" type="MAC" languagemode="0" timestamp="66620,53276.5795191"><![CDATA[
main() public {
	Set tSC = ##class(Ens.Director).CreateBusinessService("Direct",.tService)
	If ($IsObject(tService)) {
		Set req=##class(Ens.Request).%New()
		Set tSC = tService.ProcessInput(req,.res)
		zw res
	}
}
]]></Routine>


<Routine name="deadlock2" type="MAC" languagemode="0" timestamp="66620,53302.7135336"><![CDATA[
main() public {
	Set tSC = ##class(Ens.Director).CreateBusinessService("Direct2",.tService)
	If ($IsObject(tService)) {
		Set req=##class(Ens.Request).%New()
		Set tSC = tService.ProcessInput(req,.res)
		zw res
	}
}
]]></Routine>
</Export>
